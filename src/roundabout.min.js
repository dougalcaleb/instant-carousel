let roundabout={on:-1,usedIds:[]};class Roundabout{constructor(settings){this.pages=settings.pages?settings.pages:{},this.id=settings.id?settings.id:".myCarousel",this.type=settings.type?settings.type:"normal",this.infinite=!1!==settings.infinite||settings.infinite,this.parent=settings.parent?settings.parent:"body",this.autoGenCSS=!1!==settings.autoGenCSS||settings.autoGenCSS,this.navigation=!1!==settings.navigation||settings.navigation,this.navigation_behavior=settings.navigation_behavior&&this.infinite?settings.navigation_behavior:"direction",this.autoScroll=!!settings.autoScroll&&settings.autoScroll,this.autoScroll_speed=settings.autoScroll_speed>=0?settings.autoScroll_speed:5e3,this.autoScroll_timeout=settings.autoScroll_timeout>=0?settings.autoScroll_timeout:15e3,this.autoScroll_pauseOnHover=!!settings.autoScroll_pauseOnHover&&settings.autoScroll_pauseOnHover,this.autoScroll_startAfter=settings.autoScroll_startAfter>=0?settings.autoScroll_startAfter:5e3,this.autoScroll_direction=settings.autoScroll_direction?settings.autoScroll_direction:"right",this.transition=settings.transition>=0?settings.transition:300,this.transition_timingFunction=settings.transition_timingFunction?settings.transition_timingFunction:"ease",this.throttle=!1!==settings.throttle||settings.throttle,this.throttle_timeout=settings.throttle_timeout>=0?settings.throttle_timeout:300,this.throttle_matchTransition=!settings.throttle_matchTransition||settings.throttle_matchTransition,this.throttle_keys=!1!==settings.throttle_keys||settings.throttle_keys,this.throttle_swipe=!1!==settings.throttle_swipe||settings.throttle_swipe,this.throttle_buttons=!1!==settings.throttle_buttons||settings.throttle_buttons,this.throttle_navigation=!1!==settings.throttle_navigation||settings.throttle_navigation,this.keys=!1!==settings.keys||settings.keys,this.swipe=!1!==settings.swipe||settings.swipe,this.swipe_threshold=settings.swipe_threshold>=0?settings.swipe_threshold:300,this.swipe_multiplier=settings.swipe_multiplier?settings.swipe_multiplier:1,this.swipe_resistance=settings.swipe_resistance>=0?settings.swipe_resistance:.95,this.pagesToShow=settings.pagesToShow?settings.pagesToShow:1,this.enlargeCenter=settings.enlargeCenter?settings.enlargeCenter:100,this.sizeFalloff=settings.sizeFalloff?settings.sizeFalloff:0,this.pageSpacing=settings.pageSpacing?settings.pageSpacing:0,this.pageSpacingUnits=settings.pageSpacingUnits?settings.pageSpacingUnits:"px",this.spacingMode=settings.spacingMode?settings.spacingMode:"fill",this.scrollBy=settings.scrollBy?settings.scrollBy:1,this.showWrappedPage=!!settings.showWrappedPage&&settings.showWrappedPage,this.mobile=settings.mobile?settings.mobile:{swipe_threshold:50},this.mobile_breakpoint=settings.mobile_breakpoint?settings.mobile_breakpoint:700,this.visualPreset=settings.visualPreset?settings.visualPreset:0,this.orderedPages=[],this.positions=[],this.orderedPagesMainIndex=0,this.scrollIsAllowed=!0,this.onPage=0,this.uniqueId=roundabout.on+1,this.allowInternalStyles=!0,this.allowInternalHTML=!0,this.sx=0,this.sy=0,this.ex=0,this.ey=0,this.dx=0,this.x=0,this.y=0,this.lastMove=null,this.t=!1,this.dragging=!1,this.canSnap=!1,this.swipeFrom=0,this.swipeIsAllowed=!0,this.scrollTimeoutHolder=null,this.scrollIntervalHolder=null,this.boundFollow=null,this.boundEnd=null,this.boundCancel=null,this.initialActions(),this.replaceWithMobile(),this.setListeners(),this.debug_output()}scrollNext(distance,valuesOnly=!1){if(!(this.onPage>=this.pages.length-this.pagesToShow)||this.infinite||"normal"!=this.type)if(distance>this.pages.length-this.pagesToShow-this.onPage&&!this.infinite){let remainingDistance=this.pages.length-this.pagesToShow-this.onPage;this.scrollNext(remainingDistance,valuesOnly)}else{let wrapper=document.querySelector(`.roundabout-${this.uniqueId}-page-wrap`);for(let a=0;a<this.positions.length;a++){let beforeMove=this.calcPagePos(a);"0px"!=beforeMove&&document.querySelector(`.roundabout-${this.uniqueId}-page-${this.orderedPages[a]}`).classList.remove("roundabout-hidden-page"),document.querySelector(`.roundabout-${this.uniqueId}-page-${this.orderedPages[a]}`).style.left=beforeMove}valuesOnly||(wrapper.style.left=this.calcPagePos(-1*distance));for(let a=0;a<distance;a++)this.positions.unshift(this.positions.pop()),this.orderedPages.push(this.orderedPages.shift());this.onPage+=distance,this.onPage>=this.pages.length&&(this.onPage-=this.pages.length),this.navigation&&(document.querySelector(`.roundabout-${this.uniqueId}-active-nav-btn`).classList.remove(`roundabout-${this.uniqueId}-active-nav-btn`),document.querySelector(`.roundabout-${this.uniqueId}-nav-btn-${this.onPage}`).classList.add(`roundabout-${this.uniqueId}-active-nav-btn`)),valuesOnly?(this.positionWrap(!valuesOnly),this.positionPages()):setTimeout(()=>{this.positionWrap(!valuesOnly),this.positionPages()},this.transition),this.navigation&&(document.querySelector(`.roundabout-${this.uniqueId}-active-nav-btn`).classList.remove(`roundabout-${this.uniqueId}-active-nav-btn`),document.querySelector(`.roundabout-${this.uniqueId}-nav-btn-${this.onPage}`).classList.add(`roundabout-${this.uniqueId}-active-nav-btn`))}}scrollPrevious(distance,valuesOnly=!1){if(!(this.onPage<=0)||this.infinite||"normal"!=this.type)if(Math.abs(distance)>this.onPage&&!this.infinite){let remainingDistance=-1*this.onPage;this.scrollPrevious(remainingDistance,valuesOnly)}else{let wrapper=document.querySelector(`.roundabout-${this.uniqueId}-page-wrap`),pos=[];for(let a=0;a<this.positions.length;a++)pos.push(a-Math.abs(distance));for(let a=0;a<Math.abs(distance);a++)pos.push(pos.shift());for(let a=0;a<this.positions.length;a++){let beforeMove=this.calcPagePos(pos[a]);"0px"!=beforeMove&&document.querySelector(`.roundabout-${this.uniqueId}-page-${this.orderedPages[a]}`).classList.remove("roundabout-hidden-page"),document.querySelector(`.roundabout-${this.uniqueId}-page-${this.orderedPages[a]}`).style.left=beforeMove}valuesOnly||(wrapper.style.left=this.calcPagePos(-1*distance));for(let a=0;a<Math.abs(distance);a++)this.positions.push(this.positions.shift()),this.orderedPages.unshift(this.orderedPages.pop());this.onPage+=distance,this.onPage<0&&(this.onPage+=this.pages.length),valuesOnly?(this.positionWrap(!valuesOnly),this.positionPages()):setTimeout(()=>{this.positionWrap(!valuesOnly),this.positionPages()},this.transition),this.navigation&&(document.querySelector(`.roundabout-${this.uniqueId}-active-nav-btn`).classList.remove(`roundabout-${this.uniqueId}-active-nav-btn`),document.querySelector(`.roundabout-${this.uniqueId}-nav-btn-${this.onPage}`).classList.add(`roundabout-${this.uniqueId}-active-nav-btn`))}}scrollTo(page){this.infinite&&"direction"!=this.navigation_behavior?this.findOffset(this.onPage,page,"p")<this.findOffset(this.onPage,page,"n")?this.throttle_navigation?this.previousHandler(this,"scrollto",-1*this.findOffset(this.onPage,page,"p")):this.scrollPrevious(-1*this.findOffset(this.onPage,page,"p")):this.throttle_navigation?this.nextHandler(this,"scrollto",this.findOffset(this.onPage,page,"n")):this.scrollNext(this.findOffset(this.onPage,page,"n")):page<this.onPage?this.throttle_navigation?this.previousHandler(this,"scrollto",page-this.onPage):this.scrollPrevious(page-this.onPage):this.throttle_navigation?this.nextHandler(this,"scrollto",page-this.onPage):this.scrollNext(page-this.onPage)}nextHandler(parent,from,distance){let sd;sd="snap"==from?1:"scrollto"==from?distance:parent.scrollBy;let sb="snap"!=from;parent.resetScrollTimeout(),parent.scrollIsAllowed&&!parent.dragging&&(parent.scrollNext(sd,!1,sb),(parent.throttle&&parent.throttle_buttons&&"key"!=from||parent.throttle&&parent.throttle_keys&&"key"==from)&&(parent.scrollIsAllowed=!1,setTimeout(()=>{parent.scrollIsAllowed=!0},parent.throttle_timeout)))}previousHandler(parent,from,distance){let sd;sd="snap"==from?-1:"scrollto"==from?distance:-parent.scrollBy;let sb="snap"!=from;parent.resetScrollTimeout(),parent.scrollIsAllowed&&!parent.dragging&&(parent.scrollPrevious(sd,!1,sb),(parent.throttle&&parent.throttle_buttons&&"key"!=from||parent.throttle&&parent.throttle_keys&&"key"==from)&&(parent.scrollIsAllowed=!1,setTimeout(()=>{parent.scrollIsAllowed=!0},parent.throttle_timeout)))}resetScrollTimeout(){clearTimeout(this.scrollTimeoutHolder),clearInterval(this.scrollIntervalHolder),this.scrollTimeoutHolder=setTimeout(()=>{this.setAutoScroll(this)},this.autoScroll_timeout)}setAutoScroll(parent,firstTime=!1){firstTime&&parent.autoScroll?setTimeout(()=>{parent.scrollAuto(parent),parent.scrollIntervalHolder=setInterval(()=>{parent.scrollAuto(parent)},parent.autoScroll_speed)},parent.autoScroll_startAfter):parent.autoScroll&&(parent.scrollIntervalHolder=setInterval(()=>{parent.scrollAuto(parent)},parent.autoScroll_speed))}scrollAuto(parent){"left"==parent.autoScroll_direction.toLowerCase()&&parent.scrollIsAllowed?parent.scrollPrevious(this.scrollBy):"right"==parent.autoScroll_direction.toLowerCase()&&parent.scrollIsAllowed&&parent.scrollNext(this.scrollBy)}setTouch(event,parent){event.preventDefault(),parent.t=!0,parent.tStart(event,parent)}tStart(event,parent){if(parent.resetScrollTimeout(),parent.throttle_swipe){if(!parent.swipeIsAllowed)return;parent.throttle&&(parent.swipeIsAllowed=!1)}event.preventDefault(),parent.dragging=!0,parent.swipeFrom=parent.orderedPages[parent.orderedPagesMainIndex],document.querySelector(`.roundabout-${parent.uniqueId}-page-wrap`).classList.remove(`roundabout-${this.uniqueId}-has-transition`),document.querySelector(`.roundabout-${parent.uniqueId}-page-wrap`).classList.add("roundabout-has-no-transition"),parent.lastMove=event.touches,parent.t?(parent.x=event.touches[0].clientX,parent.y=event.touches[0].clientY,parent.sx=event.touches[0].clientX,parent.sy=event.touches[0].clientY):(parent.x=event.clientX,parent.y=event.clientY,parent.sx=event.clientX,parent.sy=event.clientY),document.addEventListener("mousemove",parent.boundFollow,!1),document.addEventListener("mouseup",parent.boundEnd,!1),parent.t&&(document.addEventListener("touchmove",parent.boundFollow,!1),document.addEventListener("touchend",parent.boundEnd,!1),document.addEventListener("touchcancel",parent.boundCancel,!1))}follow(event,parent){if(parent.dragging){parent.t?(parent.x=event.changedTouches[0].clientX,parent.y=event.changedTouches[0].clientY):(parent.x=event.clientX,parent.y=event.clientY),parent.dx=(parent.x-parent.sx)*parent.swipe_multiplier,Math.abs(parent.dx)<document.querySelector(parent.parent).offsetWidth&&parent.infinite?parent.dx=(parent.x-parent.sx)*parent.swipe_multiplier:parent.dx<0?parent.infinite?parent.dx-=(parent.dx+document.querySelector(parent.parent).offsetWidth)*parent.swipe_resistance:parent.pages.length-parent.pagesToShow==parent.onPage&&(1==parent.swipe_resistance?parent.dx=0:parent.dx-=parent.dx*parent.swipe_resistance):parent.dx>0&&(parent.infinite?parent.dx-=(parent.dx-document.querySelector(parent.parent).offsetWidth)*parent.swipe_resistance:0===parent.orderedPages[parent.orderedPagesMainIndex]&&(1==parent.swipe_resistance?parent.dx=0:parent.dx-=parent.dx*parent.swipe_resistance));let dist=Math.abs(parent.dx);dist>=parent.swipe_threshold&&parent.infinite||dist>=parent.swipe_threshold&&!parent.infinite&&parent.onPage>=0&&parent.onPage<parent.pages.length-parent.pagesToShow?parent.canSnap=!0:parent.canSnap=!1;let totalSize=document.querySelector(`.roundabout-${parent.uniqueId}-page-`+parent.orderedPages[parent.orderedPagesMainIndex]).offsetWidth+parent.pageSpacing;dist>=totalSize&&parent.infinite||dist>=totalSize&&!parent.infinite&&parent.onPage<=parent.pages.length-parent.pagesToShow&&parent.onPage>=0?(parent.dx>0?parent.scrollPrevious(-1,!0):parent.dx<0&&parent.scrollNext(1,!0),parent.sx=parent.x/1,parent.dx=0):document.querySelector(`.roundabout-${parent.uniqueId}-page-wrap`).style.left=parent.dx+"px"}}tEnd(event,parent){setTimeout(()=>{parent.swipeIsAllowed=!0},parent.throttle_timeout),document.querySelector(`.roundabout-${parent.uniqueId}-page-wrap`).classList.add(`roundabout-${this.uniqueId}-has-transition`),document.querySelector(`.roundabout-${parent.uniqueId}-page-wrap`).classList.remove("roundabout-has-no-transition"),parent.dragging=!1,parent.t?(parent.ex=event.changedTouches[0].clientX,parent.ey=event.changedTouches[0].clientY):(parent.ex=event.clientX,parent.ey=event.clientY),parent.snap(parent.canSnap,parent.dx,parent),parent.resetSwipeVars(parent),document.removeEventListener("mousemove",parent.boundFollow,!1),document.removeEventListener("mouseup",parent.boundEnd,!1),document.removeEventListener("touchmove",parent.boundFollow,!1),document.removeEventListener("touchend",parent.boundEnd,!1),document.removeEventListener("touchcancel",parent.boundCancel,!1)}tCancel(event,parent){event.preventDefault(),document.removeEventListener("mouseup",event=>{parent.tEnd(event,parent)},!1),document.removeEventListener("touchend",event=>{parent.tEnd(event,parent)},!1),document.removeEventListener("touchcancel",event=>{parent.tCancel(event,parent)},!1)}snap(al,dir,parent){al?dir>0?(parent.previousHandler(parent,"snap"),parent.positionWrap(!1,1)):dir<0&&(parent.nextHandler(parent,"snap"),parent.positionWrap(!1,-1)):parent.positionWrap(!1,0)}resetSwipeVars(parent){parent.sx=0,parent.sy=0,parent.ex=0,parent.ey=0,parent.x=0,parent.y=0,parent.dx=0,parent.lastMove=[],parent.t=!1,parent.canSnap=!1}execMM(event){this.follow(event,this)}execMU(event){this.tEnd(event,this)}execTC(event){this.tCancel(event,this)}defaultHTML(){let newCarousel=document.createElement("DIV"),html=`<div class="roundabout-${this.uniqueId}-swipe-overlay roundabout-swipe-overlay"></div>\n                  <div class="roundabout-${this.uniqueId}-page-wrap roundabout-page-wrap roundabout-${this.uniqueId}-has-transition"></div>\n                  <div class="roundabout-${this.uniqueId}-nav roundabout-nav">\n                     <div class="roundabout-${this.uniqueId}-btn-r roundabout-btn-r roundabout-scroll-btn">\n                        <svg viewBox="0 0 24 24">\n                           <path fill="currentColor" d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" />\n                        </svg>\n                     </div>\n                     <div class="roundabout-${this.uniqueId}-btn-l roundabout-btn-l roundabout-scroll-btn">\n                        <svg viewBox="0 0 24 24">\n                           <path fill="currentColor" d="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z" />\n                        </svg>\n                     </div>\n                  </div>`;if(newCarousel.innerHTML=html,newCarousel.classList.add("roundabout-wrapper"),"#"==this.id.split("")[0]){let newId=this.id.split("");newId.shift(),newId=newId.join(""),newCarousel.setAttribute("id",newId)}else{let newClass=this.id.split("");newClass.shift(),newClass=newClass.join(""),newCarousel.classList.add(newClass)}document.querySelector(this.parent).appendChild(newCarousel)}defaultCSS(){let css,requiredCss=".roundabout-page{position:absolute}.roundabout-page-wrap{width:100%;height:100%;position:absolute;left:0}.roundabout-wrapper{position:relative}";switch(this.visualPreset){case 0:css=`.roundabout-wrapper{height:80vh;margin-top:30px;overflow:hidden}.roundabout-scroll-btn svg{position:absolute;left:0;right:0;top:0;bottom:0;margin:auto;height:70px}.roundabout-nav-wrap{position:absolute;left:0;right:0;margin:auto;display:flex;justify-content:space-evenly;bottom:0;height:40px;width:25%}.roundabout-scroll-btn{position:absolute;top:0;bottom:0;margin:auto;height:80px;width:80px;cursor:pointer;color:#fff}.roundabout-nav{height:100%;width:100%}.roundabout-btn-l{left:0}.roundabout-btn-r{right:0}.roundabout-swipe-overlay{width:calc(100% - 140px);height:calc(100% - 40px);top:0;left:0;right:0;position:absolute;margin:auto;z-index:2}.roundabout-${this.uniqueId}-nav-btn{margin:auto;height:10px;width:10px;border-radius:100%;border:2px solid #fff;transition:.2s;cursor:pointer}.roundabout-${this.uniqueId}-inactive-nav-btn{background:0 0}.roundabout-${this.uniqueId}-active-nav-btn{background:#fff}`}let newStyle=document.createElement("STYLE");newStyle.setAttribute("type","text/css"),newStyle.innerHTML=css,document.getElementsByTagName("head")[0].appendChild(newStyle);let newReqStyle=document.createElement("STYLE");newReqStyle.setAttribute("type","text/css"),newReqStyle.innerHTML=requiredCss,document.getElementsByTagName("head")[0].appendChild(newReqStyle)}internalCSS(){let css=`.roundabout-${this.uniqueId}-has-transition {\n         transition:${this.transition/1e3}s; \n         transition-timing-function:${this.transition_timingFunction}} \n         .roundabout-has-no-transition{\n            transition:none;} \n         .roundabout-hidden-page {\n            visibility: hidden}\n         .carousel-error-message {\n            position:relative;\n            margin:auto;\n            left:0;\n            right:0;\n            top:0;\n            bottom:0;\n            border-radius:5px;\n            border:3px solid black;\n            background: white;\n            text-align:center;\n            font-family:sans-serif;\n            width:30%;}`,newStyle=document.createElement("STYLE");newStyle.setAttribute("type","text/css"),newStyle.innerHTML=css,document.getElementsByTagName("head")[0].appendChild(newStyle)}generatePages(){let baseHeight=100;for(let a=0;a<this.pages.length;a++){let newPage=document.createElement("DIV"),newPos;if(newPage.classList.add(`roundabout-${this.uniqueId}-page-${a}`,"roundabout-page"),"normal"==this.type){let iteratorMod,iteratorMod2;"evenly"==this.spacingMode?(iteratorMod=1,iteratorMod2=0):(iteratorMod=-1,iteratorMod2=-1);let pageWidth="calc((100% - "+(this.pagesToShow+iteratorMod)*this.pageSpacing+this.pageSpacingUnits+") / "+this.pagesToShow+")";newPage.style.width=pageWidth,a<=this.pagesToShow+2&&(newPos="calc((((100% - "+(this.pagesToShow+iteratorMod)*this.pageSpacing+this.pageSpacingUnits+") / "+this.pagesToShow+") * "+(a-1)+") + "+(this.pageSpacing*(a+iteratorMod2)+this.pageSpacingUnits)+")")}else newPage.style.width="100%";newPage.style.height="100%",this.pages[a].background_image&&(newPage.style.background="url("+this.pages[a].background_image+")",newPage.style.backgroundSize="cover",newPage.style.backgroundPosition="center center"),document.querySelector(`.roundabout-${this.uniqueId}-page-wrap`).appendChild(newPage),this.orderedPages.push(a),a<=this.pagesToShow+1?this.positions.push(newPos):this.positions.push("0px")}if(this.navigation){let navbar=document.createElement("div"),numButtons;navbar.classList.add(`roundabout-${this.uniqueId}-nav-wrap`,"roundabout-nav-wrap"),document.querySelector(`.roundabout-${this.uniqueId}-nav`).appendChild(navbar),"normal"==this.type&&(numButtons=this.infinite?this.pages.length:this.pages.length-(this.pagesToShow-1));for(let a=0;a<numButtons;a++){let newNavBtn=document.createElement("div");0==a?newNavBtn.classList.add(`roundabout-${this.uniqueId}-active-nav-btn`):newNavBtn.classList.add(`roundabout-${this.uniqueId}-inactive-nav-btn`),newNavBtn.classList.add(`roundabout-${this.uniqueId}-nav-btn`,`roundabout-${this.uniqueId}-nav-btn-${a}`),navbar.appendChild(newNavBtn),newNavBtn.addEventListener("click",()=>{this.scrollTo(a)})}}this.positions.push(this.positions.shift()),this.positionPages()}replaceWithMobile(){let mobileL=0;for(let key in this.mobile)this.mobile.hasOwnProperty(key)&&mobileL++;let settingsL=0;for(let key in this)this.hasOwnProperty(key)&&settingsL++;if(screen.width<=this.mobile_breakpoint){let c=Object.entries(this),cm=Object.entries(this.mobile);for(let a=0;a<mobileL;a++)for(let b=0;b<settingsL;b++)c[b][0]==cm[a][0]&&(this[c[b][0].toString()]=cm[a][1])}}initialActions(){this.allowInternalStyles&&this.internalCSS(),this.checkForErrors()&&(roundabout.on++,this.allowInternalHTML&&this.defaultHTML(),this.autoGenCSS&&this.allowInternalStyles&&this.defaultCSS(),this.throttle_matchTransition&&(this.throttle_timeout=this.transition),this.autoScroll&&this.setAutoScroll(this,!0),this.generatePages(),this.boundFollow=this.execMM.bind(this),this.boundEnd=this.execMU.bind(this),this.boundCancel=this.execTC.bind(this),"normal"==this.type&&(this.swipe_threshold/=this.pagesToShow))}setListeners(){document.querySelector(`.roundabout-${this.uniqueId}-btn-r`).addEventListener("click",()=>{this.nextHandler(this)}),document.querySelector(`.roundabout-${this.uniqueId}-btn-l`).addEventListener("click",()=>{this.previousHandler(this)}),this.keys&&document.addEventListener("keydown",event=>{switch(event.key){case"ArrowLeft":this.previousHandler(this,"key");break;case"ArrowRight":this.nextHandler(this,"key")}}),this.autoScroll_pauseOnHover&&(document.querySelector(this.parent).addEventListener("mouseover",()=>{this.scrollIsAllowed=!1}),document.querySelector(this.parent).addEventListener("mouseout",()=>{this.scrollIsAllowed=!0,this.resetScrollTimeout()})),this.swipe&&(document.querySelector(`.roundabout-${this.uniqueId}-swipe-overlay`).addEventListener("mousedown",event=>{this.tStart(event,this)},!1),document.querySelector(`.roundabout-${this.uniqueId}-swipe-overlay`).addEventListener("touchstart",event=>{this.setTouch(event,this)},!1))}checkForErrors(){return this.pages.length-this.pagesToShow<=1?(this.displayError("For the number of pages supplied, there are too many being shown. There must be at least 2 fewer pages shown than the number of pages. Minimum required pages is 3."),!1):"#"!==this.id.split("")[0]&&"."!==this.id.split("")[0]?(this.displayError("An invalid selector prefix was given for the parent. Valid selector prefixes are '#' for IDs or '.' for classes."),!1):roundabout.usedIds.includes(this.id)?(this.displayError(`The selector ${this.id} is already in use by another carousel. Please use a unique selector.`),!1):(roundabout.usedIds.push(this.id),!(this.pagesToShow<this.scrollBy)||(this.displayError("'scrollBy' must be less than or equal to 'pagesToShow'."),!1))}positionPages(){for(let a=0;a<this.positions.length;a++)"0px"==this.positions[a]?(document.querySelector(`.roundabout-${this.uniqueId}-page-${a}`).classList.add("roundabout-hidden-page"),document.querySelector(`.roundabout-${this.uniqueId}-page-${a}`).style.left=this.positions[a]):(document.querySelector(`.roundabout-${this.uniqueId}-page-${a}`).style.left=this.positions[a],document.querySelector(`.roundabout-${this.uniqueId}-page-${a}`).classList.remove("roundabout-hidden-page"),!this.infinite&&0==a&&this.onPage>1&&!this.showWrappedPage&&document.querySelector(`.roundabout-${this.uniqueId}-page-${a}`).classList.add("roundabout-hidden-page"),this.infinite||a!=this.positions.length-1||0!=this.onPage||this.showWrappedPage||document.querySelector(`.roundabout-${this.uniqueId}-page-${this.positions.length-1}`).classList.add("roundabout-hidden-page"))}positionWrap(setTransitions=!0,position=0){let wrapper=document.querySelector(`.roundabout-${this.uniqueId}-page-wrap`);setTransitions&&(wrapper.classList.remove(`roundabout-${this.uniqueId}-has-transition`),wrapper.classList.add("roundabout-has-no-transition")),wrapper.style.left=this.calcPagePos(position);const flushCssBuffer=wrapper.offsetWidth;setTransitions&&(wrapper.classList.add(`roundabout-${this.uniqueId}-has-transition`),wrapper.classList.remove("roundabout-has-no-transition"))}findOffset(start,end,direction){return"p"==direction?end<start?start-end:start+this.pages.length-end:"n"==direction?end<start?this.pages.length-start+end:end-start:void 0}calcPagePos(pagePos){if(0==pagePos)return"0px";let iteratorMod,iteratorMod2,newPos;return pagePos+=1,"evenly"==this.spacingMode?(iteratorMod=1,iteratorMod2=0):(iteratorMod=-1,iteratorMod2=-1),"calc((((100% - "+(this.pagesToShow+iteratorMod)*this.pageSpacing+this.pageSpacingUnits+") / "+this.pagesToShow+") * "+(pagePos-1)+") + "+(this.pageSpacing*(pagePos+iteratorMod2)+this.pageSpacingUnits)+")"}displayError(message,title="Error:"){let em=document.createElement("DIV");em.classList.add("carousel-error-message");let t=document.createElement("SPAN");t.innerHTML=title,t.style.color="red",t.style.fontWeight="bold",em.appendChild(t);let m=document.createElement("SPAN");m.innerHTML=message;let lb=document.createElement("BR");em.appendChild(lb),em.appendChild(m),document.querySelector(this.parent).appendChild(em),console.error(message)}debug_output(){}}